{"version":3,"file":"storm-of-hearts.js","sources":["../src/img/heart.svg","../src/js/storm-of-hearts.js"],"sourcesContent":["export default \"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%2020010904//EN'%20'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'%3e%3csvg%20version='1.0'%20xmlns='http://www.w3.org/2000/svg'%20width='1280.000000pt'%20height='1189.000000pt'%20viewBox='0%200%201280.000000%201189.000000'%20preserveAspectRatio='xMidYMid%20meet'%3e%3cmetadata%3e%20Created%20by%20potrace%201.15,%20written%20by%20Peter%20Selinger%202001-2017%20%3c/metadata%3e%3cg%20transform='translate(0.000000,1189.000000)%20scale(0.100000,-0.100000)'%20%3e%3cpath%20d='M3250%2011884%20c-25%20-2%20-106%20-11%20-180%20-20%20-1485%20-172%20-2704%20-1295%20-3001%20-2764%20-133%20-660%20-67%20-1507%20171%20-2223%20252%20-753%20675%20-1411%201397%20-2172%20342%20-360%20634%20-630%201588%20-1470%20231%20-203%20488%20-430%20570%20-505%201024%20-920%201735%20-1692%202346%20-2547%20l130%20-183%20132%200%20132%201%20130%20192%20c557%20822%201212%201560%202185%202461%20191%20178%20408%20373%201027%20923%20956%20852%201445%201343%201841%201850%20643%20825%20968%201603%201064%202553%2019%20196%2017%20665%20-5%20835%20-105%20805%20-441%201497%20-998%202054%20-557%20557%20-1250%20894%20-2054%20998%20-193%2024%20-613%2024%20-810%200%20-733%20-93%20-1379%20-387%20-1920%20-874%20-191%20-172%20-406%20-417%20-535%20-610%20-30%20-45%20-57%20-82%20-60%20-82%20-3%200%20-30%2037%20-60%2082%20-129%20193%20-344%20438%20-535%20610%20-531%20478%20-1170%20773%20-1878%20867%20-146%2020%20-562%2034%20-677%2024z'/%3e%3c/g%3e%3c/svg%3e\"","import heart from '../img/heart.svg';\n\nconst stormOfHeartsContainer = document.querySelector('.storm-hearts-container');\n\n// Функция троттлинга\nfunction throttle(callback, delay) {\n    let lastCall = 0;\n    return (...args) => {\n        const now = Date.now();\n        if (now - lastCall >= delay) {\n            lastCall = now;\n            callback(...args);\n        }\n    };\n}\n\nconst createHeart = async (event) => {\n    const heartElement = document.createElement('div');\n    heartElement.classList.add('storm-heart');\n\n    // Вставляем SVG в DOM\n    const response = await fetch(heart);\n    const svgContent = await response.text();\n    heartElement.innerHTML = svgContent;\n    const svg = heartElement.querySelector('svg');\n    svg.classList.add('img-heart');\n\n    const heartSize = Math.random() * 50 + 20; // Random size between 20 and 70\n    svg.style.width = `${heartSize}px`;\n    svg.style.height = `${heartSize}px`;\n\n    heartElement.style.left = `${event.clientX}px`;\n    heartElement.style.top = `${event.clientY}px`;\n\n    heartElement.style.transform = `translate(-50%, -50%)`;\n\n    const heartSpeed = Math.random() * 5 + 1; // Random speed between 1 and 3\n    const heartAnimationFlightUp = `flightUp ${heartSpeed}s ease forwards`;\n    heartElement.style.animation = `${heartAnimationFlightUp}, blinkColors ${heartSpeed}s linear infinite`;\n    svg.style.animation = `blinkColors 0.8s linear infinite`;\n\n    stormOfHeartsContainer.appendChild(heartElement);\n\n    setTimeout(() => {\n        heartElement.remove();\n    }, heartSpeed * 1000);\n};\n\n// Применяем троттлинг к обработчику события\ndocument.addEventListener('mousemove', throttle(createHeart, 1)); // Ограничиваем вызов до 1 раза в 100 мс"],"names":["heart","stormOfHeartsContainer","throttle","callback","delay","lastCall","args","now","createHeart","event","heartElement","svgContent","svg","heartSize","heartSpeed","heartAnimationFlightUp"],"mappings":"oDAAA,MAAeA,EAAA,8gDCETC,EAAyB,SAAS,cAAc,yBAAyB,EAG/E,SAASC,EAASC,EAAUC,EAAO,CAC/B,IAAIC,EAAW,EACf,MAAO,IAAIC,IAAS,CAChB,MAAMC,EAAM,KAAK,MACbA,EAAMF,GAAYD,IAClBC,EAAWE,EACXJ,EAAS,GAAGG,CAAI,EAE5B,CACA,CAEA,MAAME,EAAc,MAAOC,GAAU,CACjC,MAAMC,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,UAAU,IAAI,aAAa,EAIxC,MAAMC,EAAa,MADF,MAAM,MAAMX,CAAK,GACA,OAClCU,EAAa,UAAYC,EACzB,MAAMC,EAAMF,EAAa,cAAc,KAAK,EAC5CE,EAAI,UAAU,IAAI,WAAW,EAE7B,MAAMC,EAAY,KAAK,OAAM,EAAK,GAAK,GACvCD,EAAI,MAAM,MAAQ,GAAGC,CAAS,KAC9BD,EAAI,MAAM,OAAS,GAAGC,CAAS,KAE/BH,EAAa,MAAM,KAAO,GAAGD,EAAM,OAAO,KAC1CC,EAAa,MAAM,IAAM,GAAGD,EAAM,OAAO,KAEzCC,EAAa,MAAM,UAAY,wBAE/B,MAAMI,EAAa,KAAK,OAAM,EAAK,EAAI,EACjCC,EAAyB,YAAYD,CAAU,kBACrDJ,EAAa,MAAM,UAAY,GAAGK,CAAsB,iBAAiBD,CAAU,oBACnFF,EAAI,MAAM,UAAY,mCAEtBX,EAAuB,YAAYS,CAAY,EAE/C,WAAW,IAAM,CACbA,EAAa,OAAM,CAC3B,EAAOI,EAAa,GAAI,CACxB,EAGA,SAAS,iBAAiB,YAAaZ,EAASM,EAAa,CAAC,CAAC"}