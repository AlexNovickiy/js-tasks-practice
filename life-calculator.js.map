{"version":3,"file":"life-calculator.js","sources":["../src/js/life-calculator.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form-life-calculator');\nconst listIems = form.querySelector('.results');\n\nlet colors;\nlet intervalId;\n\nfunction getRandomHexColor() {\n  return `#${Math.floor(Math.random() * 16777215)\n    .toString(16)\n    .padStart(6, 0)}`;\n}\n\nform.addEventListener('submit', handleFormSubmit);\n\nconst validations = [\n  {\n    condition: (year, month, day) => !year || !month || !day,\n    message: 'Please fill in all fields',\n  },\n  {\n    condition: (year, month, day) => {\n      const currentYear = new Date().getFullYear();\n      const currentMonth = new Date().getMonth() + 1;\n      const currentDay = new Date().getDate();\n\n      if (year > currentYear) return true;\n      if (year === currentYear && month > currentMonth) return true;\n      if (year === currentYear && month === currentMonth && day > currentDay)\n        return true;\n      if (year < 1900) return true;\n      return false;\n    },\n    message: 'Please enter a valid date that is not in the future',\n  },\n  {\n    condition: (_, month) => month < 1 || month > 12,\n    message: 'Please enter a valid month',\n  },\n  {\n    condition: (_, __, day) => day < 1 || day > 31,\n    message: 'Please enter a valid day',\n  },\n];\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  const formData = Object.fromEntries(new FormData(event.currentTarget));\n\n  for (const { condition, message } of validations) {\n    if (\n      condition(+formData.inputYear, +formData.inputMonth, +formData.inputDay)\n    ) {\n      iziToast.error({\n        title: 'Error',\n        message,\n        position: 'topRight',\n        messageColor: '#fff',\n        titleColor: '#fff',\n        backgroundColor: '#ff0000',\n      });\n      clearInterval(intervalId);\n      listIems.innerHTML = '';\n      return;\n    }\n  }\n\n  const birthDate = new Date(\n    formData.inputYear,\n    formData.inputMonth - 1,\n    formData.inputDay\n  );\n\n  colors = {\n    years: getRandomHexColor(),\n    days: getRandomHexColor(),\n    hours: getRandomHexColor(),\n    minutes: getRandomHexColor(),\n    seconds: getRandomHexColor(),\n  };\n\n  updateTimeLived(birthDate);\n  intervalId = setInterval(() => updateTimeLived(birthDate), 1000);\n}\n\nfunction updateTimeLived(birthDate) {\n  const currentDate = new Date();\n  const timeDifference = currentDate - birthDate;\n\n  const seconds = Math.floor(timeDifference / 1000);\n  const minutes = Math.floor(seconds / 60);\n  const hours = Math.floor(minutes / 60);\n  const days = Math.floor(hours / 24);\n  const years = Math.floor(days / 365.25);\n\n  listIems.innerHTML = `<li class=\"item-results\">\n                  <span>Вам</span>\n                  <span class=\"result-years span-output-values\" style=\"color: ${colors.years}\">${years}</span> років\n                </li>\n                <li class=\"item-results\">\n                  <span>Ви прожили</span>\n                  <span class=\"result-days span-output-values\" style=\"color: ${colors.days}\">${days}</span> днів\n                </li>\n                <li class=\"item-results\">\n                  <span class=\"title-before-times\">Або</span>\n                  <span class=\"result-hours span-output-values\" style=\"color: ${colors.hours}\">${hours}</span> годин\n                </li>\n                <li class=\"item-results\">\n                  <span class=\"title-before-times\">Або</span>\n                  <span class=\"result-minutes span-output-values\" style=\"color: ${colors.minutes}\">${minutes}</span> хвилин\n                </li>\n                <li class=\"item-results\">\n                  <span class=\"title-before-times\">Або</span>\n                  <span class=\"result-seconds span-output-values\" style=\"color: ${colors.seconds}\">${seconds}</span> секунд\n                </li>`;\n}\n"],"names":["form","listIems","colors","intervalId","getRandomHexColor","handleFormSubmit","validations","year","month","day","currentYear","currentMonth","currentDay","_","__","event","formData","condition","message","iziToast","birthDate","updateTimeLived","timeDifference","seconds","minutes","hours","days","years"],"mappings":"oGAGA,MAAMA,EAAO,SAAS,cAAc,uBAAuB,EACrDC,EAAWD,EAAK,cAAc,UAAU,EAE9C,IAAIE,EACAC,EAEJ,SAASC,GAAoB,CAC3B,MAAO,IAAI,KAAK,MAAM,KAAK,OAAQ,EAAG,QAAQ,EAC3C,SAAS,EAAE,EACX,SAAS,EAAG,CAAC,CAAC,EACnB,CAEAJ,EAAK,iBAAiB,SAAUK,CAAgB,EAEhD,MAAMC,EAAc,CAClB,CACE,UAAW,CAACC,EAAMC,EAAOC,IAAQ,CAACF,GAAQ,CAACC,GAAS,CAACC,EACrD,QAAS,2BACV,EACD,CACE,UAAW,CAACF,EAAMC,EAAOC,IAAQ,CAC/B,MAAMC,EAAc,IAAI,KAAM,EAAC,YAAW,EACpCC,EAAe,IAAI,KAAM,EAAC,SAAQ,EAAK,EACvCC,EAAa,IAAI,KAAM,EAAC,QAAO,EAMrC,OAJIL,EAAOG,GACPH,IAASG,GAAeF,EAAQG,GAChCJ,IAASG,GAAeF,IAAUG,GAAgBF,EAAMG,GAExDL,EAAO,IAEZ,EACD,QAAS,qDACV,EACD,CACE,UAAW,CAACM,EAAGL,IAAUA,EAAQ,GAAKA,EAAQ,GAC9C,QAAS,4BACV,EACD,CACE,UAAW,CAACK,EAAGC,EAAIL,IAAQA,EAAM,GAAKA,EAAM,GAC5C,QAAS,0BACV,CACH,EAEA,SAASJ,EAAiBU,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAW,OAAO,YAAY,IAAI,SAASD,EAAM,aAAa,CAAC,EAErE,SAAW,CAAE,UAAAE,EAAW,QAAAC,CAAO,IAAMZ,EACnC,GACEW,EAAU,CAACD,EAAS,UAAW,CAACA,EAAS,WAAY,CAACA,EAAS,QAAQ,EACvE,CACAG,EAAS,MAAM,CACb,MAAO,QACP,QAAAD,EACA,SAAU,WACV,aAAc,OACd,WAAY,OACZ,gBAAiB,SACzB,CAAO,EACD,cAAcf,CAAU,EACxBF,EAAS,UAAY,GACrB,MACD,CAGH,MAAMmB,EAAY,IAAI,KACpBJ,EAAS,UACTA,EAAS,WAAa,EACtBA,EAAS,QACb,EAEEd,EAAS,CACP,MAAOE,EAAmB,EAC1B,KAAMA,EAAmB,EACzB,MAAOA,EAAmB,EAC1B,QAASA,EAAmB,EAC5B,QAASA,EAAmB,CAChC,EAEEiB,EAAgBD,CAAS,EACzBjB,EAAa,YAAY,IAAMkB,EAAgBD,CAAS,EAAG,GAAI,CACjE,CAEA,SAASC,EAAgBD,EAAW,CAElC,MAAME,EADc,IAAI,KACaF,EAE/BG,EAAU,KAAK,MAAMD,EAAiB,GAAI,EAC1CE,EAAU,KAAK,MAAMD,EAAU,EAAE,EACjCE,EAAQ,KAAK,MAAMD,EAAU,EAAE,EAC/BE,EAAO,KAAK,MAAMD,EAAQ,EAAE,EAC5BE,EAAQ,KAAK,MAAMD,EAAO,MAAM,EAEtCzB,EAAS,UAAY;AAAA;AAAA,gFAEyDC,EAAO,KAAK,KAAKyB,CAAK;AAAA;AAAA;AAAA;AAAA,+EAIvBzB,EAAO,IAAI,KAAKwB,CAAI;AAAA;AAAA;AAAA;AAAA,gFAInBxB,EAAO,KAAK,KAAKuB,CAAK;AAAA;AAAA;AAAA;AAAA,kFAIpBvB,EAAO,OAAO,KAAKsB,CAAO;AAAA;AAAA;AAAA;AAAA,kFAI1BtB,EAAO,OAAO,KAAKqB,CAAO;AAAA,sBAE5G"}