{"version":3,"file":"find-number.js","sources":["../src/public/audio/Victory.mp3","../src/public/audio/Wrong-answer.mp3","../src/js/find-number.js"],"sourcesContent":["export default \"__VITE_ASSET__Bdis$8xw__\"","export default \"__VITE_ASSET__Dey0jR$m__\"","import * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport victorySound from '../public/audio/Victory.mp3';\nimport wrongAnswer from '../public/audio/Wrong-answer.mp3';\n\nconst victoryAudio = new Audio(victorySound);\nconst wrongAnswerAudio = new Audio(wrongAnswer);\n\nconst listNumberItems = document.querySelector('.list-items-numbers');\nconst listSelectorScale = document.querySelector('.select-scale-list');\nconst btnGenerateField = document.querySelector('.btn-submit-scale');\nconst dynamicTimeField = document.querySelector('.dynamic-time');\nconst btnStartGame = document.querySelector('.btn-start-game');\n\nlet numbersArray;\nlet timeText;\nlet timerInterval;\n\nbtnGenerateField.addEventListener('click', generateFieldsNumbers);\nbtnStartGame.addEventListener('click', startGame);\n\nfunction startGame(e) {\n  listNumberItems.addEventListener('click', handleNumberClick);\n  e.currentTarget.classList.add('disabled');\n  const startTime = Date.now();\n  timerInterval = setInterval(() => {\n    const elapsedTime = Date.now() - startTime;\n    const seconds = Math.floor(elapsedTime / 1000);\n    timeText = `${seconds} ${getSecondsText(seconds)}`;\n    dynamicTimeField.textContent = timeText;\n\n    if (numbersArray.length === 0) {\n      clearInterval(timerInterval);\n    }\n  }, 1000);\n}\n\nfunction handleNumberClick(e) {\n  const clickedNumber = e.target.textContent;\n  const clickedElement = e.target;\n\n  if (clickedElement.classList.contains('item-number')) {\n    if (clickedNumber == numbersArray[0]) {\n      clickedElement.classList.add('correct-answer');\n      numbersArray.shift();\n      if (numbersArray.length === 0) {\n        victoryAudio.play();\n        listNumberItems.removeEventListener('click', handleNumberClick);\n        const instance = basicLightbox.create(\n          `<div class=\"modal\">\n            <h2 class=\"modal-title\">You win!</h2>\n            <p class=\"modal-text\">Congratulations! You found all the numbers!</p>\n            <p class=\"modal-text\">Your time: ${timeText}</p>\n            <button class=\"btn-close-modal\">Close</button>\n          </div>`,\n          {\n            onShow: instance => {\n              const closeButton = instance\n                .element()\n                .querySelector('.btn-close-modal');\n              closeButton.addEventListener('click', () => {\n                instance.close();\n                e.target.classList.remove('disabled');\n                generateFieldsNumbers();\n              });\n            },\n            onClose: instance => {\n              e.target.classList.remove('disabled');\n            },\n          }\n        );\n        instance.show();\n      }\n    } else {\n      wrongAnswerAudio.play();\n      clickedElement.classList.add('wrong-answer');\n    }\n\n    if (clickedElement.classList.contains('wrong-answer')) {\n      setTimeout(() => {\n        clickedElement.classList.remove('wrong-answer');\n      }, 500);\n    }\n  }\n}\n\nfunction generateSelectorScale() {\n  const scales = ['2x2', '4x4', '6x6', '8x8', '10x10'];\n\n  const scalesMarkup = scales\n    .map((scale, index) => {\n      return `<option value=\"${\n        (index + 1) * 2\n      }\" class=\"option-scale-field\">${scale}</option>`;\n    })\n    .join('');\n\n  listSelectorScale.innerHTML = scalesMarkup;\n}\n\nfunction generateFieldsNumbers() {\n  dynamicTimeField.textContent = '';\n  clearInterval(timerInterval);\n  btnStartGame.classList.remove('disabled');\n  listNumberItems.removeEventListener('click', handleNumberClick);\n  const scaleValues = listSelectorScale.querySelectorAll('.option-scale-field');\n\n  scaleValues.forEach(scaleValue => {\n    if (scaleValue.selected) {\n      const typeScale = parseInt(scaleValue.value, 10);\n      generateMarkupNumbers(typeScale);\n    }\n  });\n}\n\nfunction generateMarkupNumbers(typeScale) {\n  const totalCells = typeScale * typeScale;\n  numbersArray = Array.from({ length: totalCells }, (_, i) => i + 1);\n\n  const shuffledNumbersArray = shuffleArray([...numbersArray]);\n\n  const fragment = document.createDocumentFragment();\n\n  for (let i = 0; i < totalCells; i++) {\n    const listItem = document.createElement('li');\n    listItem.classList.add('item-number');\n    listItem.textContent = shuffledNumbersArray[i];\n    listItem.style.backgroundColor = getRandomPastelColor();\n    listItem.style.fontSize = `${Math.floor(Math.random() * 20) + 20}px`;\n    fragment.appendChild(listItem);\n  }\n\n  listNumberItems.innerHTML = '';\n  listNumberItems.appendChild(fragment);\n\n  listNumberItems.style.gridTemplateColumns = `repeat(${typeScale}, minmax(50px, 1fr))`;\n}\n\nfunction shuffleArray(array) {\n  for (let i = array.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [array[i], array[j]] = [array[j], array[i]];\n  }\n  return array;\n}\n\nfunction getRandomPastelColor() {\n  const hue = Math.floor(Math.random() * 360);\n  const saturation = Math.floor(Math.random() * 20) + 60;\n  const lightness = Math.floor(Math.random() * 10) + 80;\n  return `hsl(${hue}, ${saturation}%, ${lightness}%)`;\n}\n\nfunction getSecondsText(seconds) {\n  const lastDigit = seconds % 10;\n  const lastTwoDigits = seconds % 100;\n\n  if (lastTwoDigits >= 11 && lastTwoDigits <= 14) {\n    return 'секунд';\n  }\n\n  if (lastDigit === 1) {\n    return 'секунда';\n  }\n\n  if (lastDigit >= 2 && lastDigit <= 4) {\n    return 'секунди';\n  }\n\n  return 'секунд';\n}\n\ngenerateSelectorScale();\ngenerateFieldsNumbers();\n"],"names":["victorySound","wrongAnswer","victoryAudio","wrongAnswerAudio","listNumberItems","listSelectorScale","btnGenerateField","dynamicTimeField","btnStartGame","numbersArray","timeText","timerInterval","generateFieldsNumbers","startGame","e","handleNumberClick","startTime","elapsedTime","seconds","getSecondsText","clickedNumber","clickedElement","basicLightbox.create","instance","generateSelectorScale","scalesMarkup","scale","index","scaleValue","typeScale","generateMarkupNumbers","totalCells","_","i","shuffledNumbersArray","shuffleArray","fragment","listItem","getRandomPastelColor","array","j","hue","saturation","lightness","lastDigit","lastTwoDigits"],"mappings":"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"}